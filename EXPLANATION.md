# Полное объяснение кода сервера

Этот документ подробно объясняет, как работает файл `server.py`.

## 1. Импорт библиотек

```python
from http.server import BaseHTTPRequestHandler, HTTPServer
```

- `BaseHTTPRequestHandler` — базовый класс обработчика HTTP-запросов.
- `HTTPServer` — класс, который принимает входящие соединения и передаёт их обработчику.

Мы используем стандартную библиотеку Python, поэтому ничего дополнительно устанавливать не нужно.

## 2. Класс обработчика `HomePageHandler`

```python
class HomePageHandler(BaseHTTPRequestHandler):
```

Этот класс описывает, как сервер отвечает на запросы.

### 2.1 Метод `do_GET`

```python
def do_GET(self):
```

- Этот метод вызывается автоматически, когда клиент делает GET-запрос.
- Мы проверяем путь запроса `self.path`.

#### Если путь `/`

```python
if self.path == "/":
```

Мы создаём HTML-страницу в виде строки. Это наш простой **Home Page**.

Далее мы:
1. Отправляем статус `200 OK`.
2. Указываем заголовки (тип контента и длину).
3. Завершаем заголовки вызовом `end_headers()`.
4. Отправляем HTML в тело ответа.

#### Если путь другой

```python
else:
    self.send_error(404, "Страница не найдена")
```

Если запрошена другая страница, возвращаем ошибку 404.

## 3. Функция `run_server`

```python
def run_server(host: str = "127.0.0.1", port: int = 8000) -> None:
```

Функция запускает сервер:

1. Создаёт адрес `(host, port)`.
2. Создаёт объект `HTTPServer`.
3. Печатает адрес сервера в консоль.
4. Запускает бесконечный цикл `serve_forever()`.

## 4. Точка входа

```python
if __name__ == "__main__":
    run_server()
```

Этот блок гарантирует, что сервер стартует только при запуске файла напрямую, а не при импорте.

## 5. Как запустить

1. В терминале перейдите в каталог с файлами.
2. Выполните команду:

```bash
python server.py
```

3. Откройте браузер и перейдите на:

```
http://127.0.0.1:8000
```

Вы увидите простую домашнюю страницу.

---

Если нужно поменять порт, можно вызвать `run_server` с другим значением, например `run_server(port=8080)`.
